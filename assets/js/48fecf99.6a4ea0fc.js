"use strict";(self.webpackChunktypegoose_website=self.webpackChunktypegoose_website||[]).push([[2397],{5680:(e,t,n)=>{n.d(t,{xA:()=>g,yg:()=>u});var r=n(6540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},g=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,g=s(e,["components","mdxType","originalType","parentName"]),m=p(n),c=o,u=m["".concat(l,".").concat(c)]||m[c]||d[c]||a;return n?r.createElement(u,i(i({ref:t},g),{},{components:n})):r.createElement(u,i({ref:t},g))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5413:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var r=n(8168),o=(n(6540),n(5680));const a={id:"migrate-11",title:"Migrate to 11.0.0"},i=void 0,s={unversionedId:"guides/migration/migrate-11",id:"guides/migration/migrate-11",title:"Migrate to 11.0.0",description:"These are the changes made for 11.0.0 that are breaking or just important to know",source:"@site/../docs/guides/migration/migrate-11.md",sourceDirName:"guides/migration",slug:"/guides/migration/migrate-11",permalink:"/typegoose/docs/guides/migration/migrate-11",draft:!1,editUrl:"https://github.com/typegoose/typegoose/edit/master/docs/../docs/guides/migration/migrate-11.md",tags:[],version:"current",frontMatter:{id:"migrate-11",title:"Migrate to 11.0.0"},sidebar:"guides",previous:{title:"Migrate to 12.0.0",permalink:"/typegoose/docs/guides/migration/migrate-12"},next:{title:"Migrate to 10.0.0",permalink:"/typegoose/docs/guides/migration/migrate-10"}},l={},p=[{value:"Requirements changed",id:"requirements-changed",level:2},{value:"Default class <code>FindOrCreate</code> has been removed",id:"default-class-findorcreate-has-been-removed",level:2},{value:"Notes",id:"notes",level:2},{value:"Mongoose 7 removed LeanDocument type",id:"mongoose-7-removed-leandocument-type",level:3}],g={toc:p},m="wrapper";function d(e){let{components:t,...n}=e;return(0,o.yg)(m,(0,r.A)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"These are the changes made for 11.0.0 that are breaking or just important to know"),(0,o.yg)("admonition",{title:"Important, Read this first",type:"caution"},(0,o.yg)("p",{parentName:"admonition"},"This Guide is written for migration from version ",(0,o.yg)("inlineCode",{parentName:"p"},"10.3.3")," to ",(0,o.yg)("inlineCode",{parentName:"p"},"11.0.0"),", for versions ",(0,o.yg)("inlineCode",{parentName:"p"},">11.0.0 <12.0.0"),", please consult the ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/typegoose/typegoose/blob/master/CHANGELOG.md"},"CHANGELOG"))),(0,o.yg)("h2",{id:"requirements-changed"},"Requirements changed"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Mongoose ",(0,o.yg)("inlineCode",{parentName:"li"},"7.2.0")," or higher is now required")),(0,o.yg)("h2",{id:"default-class-findorcreate-has-been-removed"},"Default class ",(0,o.yg)("inlineCode",{parentName:"h2"},"FindOrCreate")," has been removed"),(0,o.yg)("p",null,"The default class ",(0,o.yg)("inlineCode",{parentName:"p"},"FindOrCreate")," (and by extension the type ",(0,o.yg)("inlineCode",{parentName:"p"},"FindOrCreateResult"),") have been removed, because originally the plugin ",(0,o.yg)("inlineCode",{parentName:"p"},"mongoose-findorcreate")," was incompatible with mongoose 7 (removal of callbacks)."),(0,o.yg)("p",null,"Since the release of typegoose 11, ",(0,o.yg)("inlineCode",{parentName:"p"},"mongoose-findorcreate")," got updated to ",(0,o.yg)("inlineCode",{parentName:"p"},"4.0.0")," with support for mongoose 7, but typegoose will not be re-adding the default class."),(0,o.yg)("p",null,"See ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/typegoose/typegoose-examples/tree/master/examples/plugin-findorcreate"},(0,o.yg)("inlineCode",{parentName:"a"},"typegoose-examples")," ",(0,o.yg)("inlineCode",{parentName:"a"},"examples/plugin-findorcreate"))," for how to use it with typegoose 11 (or higher)."),(0,o.yg)("h2",{id:"notes"},"Notes"),(0,o.yg)("h3",{id:"mongoose-7-removed-leandocument-type"},"Mongoose 7 removed LeanDocument type"),(0,o.yg)("p",null,"Mongoose 7 removed the ",(0,o.yg)("inlineCode",{parentName:"p"},"LeanDocument")," type, meaning any usage of that type (for example in type tests) has to be converted."),(0,o.yg)("p",null,"Also note that the type returned is not fully correct, because it returns the type as ",(0,o.yg)("inlineCode",{parentName:"p"},"Class"),"(instance) instead of a POJO type, the reason being that typegoose passes in the full class as the interface and mongoose not doing any special operations on the type."))}d.isMDXComponent=!0}}]);